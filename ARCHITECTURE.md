# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ikea_parser/
‚îú‚îÄ‚îÄ src/                          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.js           # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ models/                   # Mongoose –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.model.js      # –ú–æ–¥–µ–ª—å —Ç–æ–≤–∞—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category.model.js     # –ú–æ–¥–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filter.model.js      # –ú–æ–¥–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filterValue.model.js  # –ú–æ–¥–µ–ª—å –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.model.js         # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ delivery.model.js    # –ú–æ–¥–µ–ª—å –¥–æ—Å—Ç–∞–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ routes/                   # Express –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.routes.js     # API –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category.routes.js    # API –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filters.routes.js     # API –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ delivery.routes.js    # API –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.routes.js       # API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.routes.js        # API –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ export.routes.js     # API –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ services/                 # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ productService.js     # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categoryService.js   # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filterService.js      # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ offersService.js      # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ availabilityService.js # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deliveryService.js    # –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ scripts/                  # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetchCategories.js     # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetchProducts.js      # –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetchOffers.js        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ downloadProductImages.js # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exportToYML.js        # –≠–∫—Å–ø–æ—Ä—Ç –≤ YML
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exportToDealByXLS.js  # –≠–∫—Å–ø–æ—Ä—Ç –≤ XLS –¥–ª—è Deal.by
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ restoreProductCategoryIds.js # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ categoryId –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reloadAllData.js      # –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                   # –î—Ä—É–≥–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetchPlDetails.js     # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ü–æ–ª—å—à–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetchLtDetails.js     # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –õ–∏—Ç–≤—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fetchPopularFromMainPage.js # –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ proxyAxios.js         # HTTP –∫–ª–∏–µ–Ω—Ç —Å –ø—Ä–æ–∫—Å–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ translateService.js   # –ü–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ Google Translate
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegramNotifier.js   # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ getClientId.js        # –ü–æ–ª—É—á–µ–Ω–∏–µ x-client-id —á–µ—Ä–µ–∑ Puppeteer
‚îÇ   ‚îú‚îÄ‚îÄ middleware/                # Express middleware
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.js               # JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ public/                    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ images/               # –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.html                # HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.js               # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á (cron)
‚îÇ   ‚îî‚îÄ‚îÄ index.js                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (Express —Å–µ—Ä–≤–µ—Ä)
‚îú‚îÄ‚îÄ admin-vue/                     # Vue.js –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views/                 # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Products.vue      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Categories.vue     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Bestsellers.vue    # –•–∏—Ç—ã –ø—Ä–æ–¥–∞–∂
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PopularProducts.vue # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PopularCategories.vue # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/              # –°–µ—Ä–≤–∏—Å—ã –¥–ª—è API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ http.js            # HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ export.js          # –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router/                # Vue Router
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite
‚îú‚îÄ‚îÄ exports/                       # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ .env                           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### 1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

```
IKEA Poland API
    ‚Üì
productService.js
    ‚Üì
fetchPlDetails.js (HTML –ø–∞—Ä—Å–∏–Ω–≥)
    ‚Üì
IKEA Lithuania HTML
    ‚Üì
fetchLtDetails.js (HTML –ø–∞—Ä—Å–∏–Ω–≥)
    ‚Üì
MongoDB (Product –º–æ–¥–µ–ª—å)
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
Product.save()
    ‚Üì
Middleware (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏)
    ‚Üì
deliveryService.js
    ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π deliveryType, deliveryCost
```

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```
MongoDB
    ‚Üì
Express API (product.routes.js)
    ‚Üì
Vue Admin Panel (admin-vue)
    ‚Üì
–ë—Ä–∞—É–∑–µ—Ä
```

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Backend (Node.js + Express)

#### 1. **–ú–æ–¥–µ–ª–∏ (Mongoose)**
- `Product` - —Ç–æ–≤–∞—Ä—ã
- `Category` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `Filter` - —Ñ–∏–ª—å—Ç—Ä—ã
- `FilterValue` - –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `Delivery` - —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏

#### 2. **–°–µ—Ä–≤–∏—Å—ã**
- `productService.js` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ IKEA API
- `categoryService.js` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `filterService.js` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `offersService.js` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–æ–≤ (—Ü–µ–Ω—ã, –Ω–∞–ª–∏—á–∏–µ)
- `availabilityService.js` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- `deliveryService.js` - —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏

#### 3. **–£—Ç–∏–ª–∏—Ç—ã**
- `fetchPlDetails.js` - –ø–∞—Ä—Å–∏–Ω–≥ HTML —Å—Ç—Ä–∞–Ω–∏—Ü —Ç–æ–≤–∞—Ä–æ–≤ IKEA Poland
- `fetchLtDetails.js` - –ø–∞—Ä—Å–∏–Ω–≥ HTML —Å—Ç—Ä–∞–Ω–∏—Ü —Ç–æ–≤–∞—Ä–æ–≤ IKEA Lithuania
- `fetchPopularFromMainPage.js` - –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `getCategoryIdFromProduct.js` - –ø–æ–ª—É—á–µ–Ω–∏–µ categoryId –¥–ª—è —Ç–æ–≤–∞—Ä–∞ —á–µ—Ä–µ–∑ IKEA API
- `proxyAxios.js` - HTTP –∫–ª–∏–µ–Ω—Ç —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏
- `translateService.js` - –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Google Cloud Translate API
- `telegramNotifier.js` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram

#### 4. **API Routes**
- `/api/products` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
  - `GET /api/products/bestsellers` - —Ö–∏—Ç—ã –ø—Ä–æ–¥–∞–∂
  - `GET /api/products/popular` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
  - `GET /api/products/admin` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
  - `GET /api/products/admin/:id` - –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
- `/api/categories` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - `GET /api/categories` - –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - `GET /api/categories/list` - –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - `GET /api/categories/popular` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - `GET /api/categories/:id` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ ID
- `/api/filters` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `/api/delivery` - —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
  - `GET /api/delivery/types` - —Ç–∏–ø—ã –¥–æ—Å—Ç–∞–≤–∫–∏
  - `POST /api/delivery/calculate` - —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- `/api/users` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `/api/auth` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - `POST /api/auth/login` - –≤—Ö–æ–¥
  - `POST /api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/api/export` - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- `/api/proxy-image` - –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–æ–±—Ö–æ–¥ CORS)

### Frontend (Vue.js + PrimeVue)

#### 1. **–°—Ç—Ä–∞–Ω–∏—Ü—ã**
- `Dashboard.vue` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `Products.vue` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `Categories.vue` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- `Bestsellers.vue` - —Ö–∏—Ç—ã –ø—Ä–æ–¥–∞–∂
- `PopularProducts.vue` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- `PopularCategories.vue` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `Users.vue` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `Exports.vue` - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

#### 2. **–°–µ—Ä–≤–∏—Å—ã**
- `http.js` - HTTP –∫–ª–∏–µ–Ω—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- `auth.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
- `export.js` - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

---

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1. IKEA Poland
- **API –ø–æ–∏—Å–∫–∞**: `https://sik.search.blue.cdtapps.com/pl/pl/search`
- **HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: `https://www.ikea.com/pl/pl/p/...`
- **API –Ω–∞–ª–∏—á–∏—è**: `https://api.salesitem.ingka.com/availabilities/ru/pl`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: `https://www.ikea.com/pl/pl/meta-data/navigation/catalog-products-slim.json`

### 2. IKEA Lithuania
- **–ü–æ–∏—Å–∫**: `https://www.ikea.lt/ru/search/?q={itemNo}`
- **HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: `https://www.ikea.lt/ru/products/...`

### 3. Google Cloud Translate API
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

### 4. Telegram Bot API
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### JWT —Ç–æ–∫–µ–Ω—ã
- –¢–æ–∫–µ–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ (`/api/auth/login`)
- –¢–æ–∫–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ middleware `authenticateToken`
- –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `admin` - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- `user` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

---

## üì¶ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### MongoDB Collections
- `products` - —Ç–æ–≤–∞—Ä—ã
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `filters` - —Ñ–∏–ª—å—Ç—Ä—ã
- `filtervalues` - –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `deliveries` - –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- `src/public/images/products/` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (sharding –ø–æ –ø–µ—Ä–≤—ã–º —Å–∏–º–≤–æ–ª–∞–º hash)

---

## üîÑ Middleware –∏ Hooks

### Product Model
- `pre('save')` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è `uniqueId`
- `pre('findOneAndUpdate')` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è `uniqueId` –ø—Ä–∏ upsert
- `post('save')` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
- `post('findOneAndUpdate')` - –ø–µ—Ä–µ—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–µ—Å–∞/—Ü–µ–Ω—ã

### Category Model
- `pre('save')` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Google Translate

### Filter/FilterValue Models
- `pre('save')` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–π —á–µ—Ä–µ–∑ Google Translate

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```
fetchCategories.js
    ‚Üì
categoryService.js
    ‚Üì
IKEA JSON (catalog-products-slim.json)
    ‚Üì
–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞
    ‚Üì
–°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ MongoDB
    ‚Üì
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–π
```

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
```
fetchProducts.js
    ‚Üì
productService.js
    ‚Üì
–î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
    ‚îú‚îÄ IKEA API (—Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤)
    ‚îú‚îÄ fetchPlDetails.js (–¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
    ‚îú‚îÄ fetchLtDetails.js (—Ä—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã)
    ‚îî‚îÄ availabilityService.js (–Ω–∞–ª–∏—á–∏–µ)
    ‚Üì
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MongoDB
    ‚Üì
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ (middleware)
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
```
updatePopularProducts.js
    ‚Üì
fetchPopularFromMainPage.js
    ‚Üì
–ü–∞—Ä—Å–∏–Ω–≥ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã IKEA
    ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤ isBestseller, isPopular
```

---

## üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### YML (–Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç)
- –§–æ—Ä–º–∞—Ç: YML (XML)
- –§–∞–π–ª: `exports/yml_market_YYYY-MM-DD_HH-MM-SS.yml`
- –ü—É–±–ª–∏—á–Ω—ã–π —Ñ–∞–π–ª: `exports/products_latest.yml`

### XLS (Deal.by)
- –§–æ—Ä–º–∞—Ç: Excel (XLSX)
- –§–∞–π–ª: `exports/dealby_export_YYYY-MM-DD_HH-MM-SS.xlsx`
- –ü—É–±–ª–∏—á–Ω—ã–π —Ñ–∞–π–ª: `exports/products_latest.xlsx`

### CSV
- –§–æ—Ä–º–∞—Ç: CSV
- –§–∞–π–ª—ã: `exports/products_*.csv`

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
- `MONGODB_URI` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `TELEGRAM_CHAT_ID` - ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `GCLOUD_PROJECT` - ID –ø—Ä–æ–µ–∫—Ç–∞ Google Cloud
- `SHOP_URL` - URL –º–∞–≥–∞–∑–∏–Ω–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Node.js, Express.js, Mongoose
- **Frontend**: Vue.js 3, PrimeVue, Tailwind CSS, Vite
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: MongoDB
- **–ü–∞—Ä—Å–∏–Ω–≥**: Cheerio, Puppeteer
- **HTTP**: Axios
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: node-cron
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: JWT (jsonwebtoken)
- **–ü–µ—Ä–µ–≤–æ–¥—ã**: Google Cloud Translate API

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –¢–æ–≤–∞—Ä—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å: 8)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å: 6)

### –ü—Ä–æ–∫—Å–∏
- –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ç—Ä–∞–π –ø—Ä–∏ 403 –æ—à–∏–±–∫–∞—Ö

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª
- –ü–µ—Ä–µ–≤–æ–¥—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ MongoDB

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- `test:sets-bundles` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞–±–æ—Ä–æ–≤
- `test:main-page` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `compare:names` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤

---

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å—Ö–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö —Å–º. [DATA_SCHEMA.md](./DATA_SCHEMA.md)**

