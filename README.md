# ðŸª IKEA API

[![Ruby](https://img.shields.io/badge/Ruby-3.3.0-red.svg)](https://www.ruby-lang.org/)
[![Rails](https://img.shields.io/badge/Rails-7.1.6-red.svg)](https://rubyonrails.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

RESTful API Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² IKEA. ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ JSON API Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð¾Ð²Ð°Ñ€Ð°Ð¼Ð¸, ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ð¼Ð¸ Ð¸ Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸.

## ðŸ“‹ ÐžÐ³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ

- [Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸](#-Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸)
- [Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº](#-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹-ÑÑ‚ÐµÐº)
- [Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚](#-Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹-ÑÑ‚Ð°Ñ€Ñ‚)
- [Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°](#-ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°)
- [ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ](#-ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ)
- [API Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ](#-api-Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ)
- [Ð”ÐµÐ¿Ð»Ð¾Ð¹](#-Ð´ÐµÐ¿Ð»Ð¾Ð¹)
- [ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°](#-Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°)
- [Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°](#-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°)

## âœ¨ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- ðŸ” **Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ð°Ð¼Ð¸** - CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² IKEA
- ðŸ“‚ **ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸** - Ð˜ÐµÑ€Ð°Ñ€Ñ…Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹
- ðŸ”Ž **Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹** - Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²
- ðŸšš **Ð Ð°ÑÑ‡ÐµÑ‚ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸** - ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ€Ð°ÑÑ‡ÐµÑ‚ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸
- ðŸ” **ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ** - JWT-based Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- ðŸ“Š **Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ** - Ð˜Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ API
- ðŸ³ **Docker Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°** - Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¸ production
- ðŸš€ **Kamal Ð´ÐµÐ¿Ð»Ð¾Ð¹** - ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð´ÐµÐ¿Ð»Ð¾Ð¹ Ñ‡ÐµÑ€ÐµÐ· Kamal (MRSK)

## ðŸ›  Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº

### Backend
- **Ruby** 3.3.0
- **Rails** 7.1.6 (API mode)
- **PostgreSQL** 16 - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
- **Redis** - ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð¸
- **MongoDB** - ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· Ð¿Ð°Ñ€ÑÐµÑ€Ð°
- **Sidekiq** - Ñ„Ð¾Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸

### Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹
- **Fast JSON API** - ÑÐµÑ€Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ JSON
- **JWT** - Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ
- **Kaminari** - Ð¿Ð°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ñ
- **Rswag** - Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- **Kamal** - Ð´ÐµÐ¿Ð»Ð¾Ð¹

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### Ð§ÐµÑ€ÐµÐ· Docker (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

```bash
# 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ
git clone https://github.com/dmitryS1666/ikea_api.git
cd ikea_api

# 2. Ð—Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
docker compose up -d

# 3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
docker compose exec app rails db:create db:migrate

# 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹
curl http://localhost:3000/up
```

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

```bash
# 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ
git clone https://github.com/dmitryS1666/ikea_api.git
cd ikea_api

# 2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
bundle install

# 3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
rails db:create db:migrate

# 4. Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²ÐµÑ€Ð°
rails server
```

## ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Ruby 3.3.0
- PostgreSQL 16+
- Redis (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
- Docker Ð¸ Docker Compose (Ð´Ð»Ñ Docker Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°)

### Ð¨Ð°Ð³ 1: ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ

```bash
git clone https://github.com/dmitryS1666/ikea_api.git
cd ikea_api
```

### Ð¨Ð°Ð³ 2: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð³ÐµÐ¼Ð¾Ð²
bundle install
```

### Ð¨Ð°Ð³ 3: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
rails db:create

# ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹
rails db:migrate

# Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
rails db:seed
```

### Ð¨Ð°Ð³ 4: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env`:

```env
# Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432

# Redis
REDIS_URL=redis://localhost:6379/0

# MongoDB (Ð´Ð»Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸)
MONGODB_URI=mongodb://localhost:27017/ikea

# JWT
JWT_SECRET=your_jwt_secret_here
```

Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ JWT_SECRET:
```bash
ruby -e "require 'securerandom'; puts SecureRandom.hex(64)"
```

### Ð¨Ð°Ð³ 5: Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²ÐµÑ€Ð°

```bash
rails server
```

ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: `http://localhost:3000`

## âš™ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

### ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

| ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ |
|-----------|----------|-------------|
| `DB_USERNAME` | Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ PostgreSQL | Ð”Ð° |
| `DB_PASSWORD` | ÐŸÐ°Ñ€Ð¾Ð»ÑŒ PostgreSQL | Ð”Ð° |
| `DB_HOST` | Ð¥Ð¾ÑÑ‚ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… | Ð”Ð° |
| `DB_PORT` | ÐŸÐ¾Ñ€Ñ‚ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… | ÐÐµÑ‚ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: 5432) |
| `REDIS_URL` | URL Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº Redis | ÐÐµÑ‚ |
| `MONGODB_URI` | URI Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº MongoDB | ÐÐµÑ‚ |
| `JWT_SECRET` | Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð´Ð»Ñ JWT | Ð”Ð° |

### Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² `config/database.yml`.

## ðŸ“š API Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

### Swagger UI

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ:
- **Swagger UI**: `http://localhost:3000/api-docs`
- **Swagger JSON**: `http://localhost:3000/api-docs/v1/swagger.yaml`

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ endpoints

#### Ð¢Ð¾Ð²Ð°Ñ€Ñ‹

```http
GET    /api/v1/products              # Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²
GET    /api/v1/products/:id          # Ð”ÐµÑ‚Ð°Ð»Ð¸ Ñ‚Ð¾Ð²Ð°Ñ€Ð°
GET    /api/v1/products/bestsellers   # Ð¥Ð¸Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð´Ð°Ð¶
GET    /api/v1/products/popular       # ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹
```

#### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸

```http
GET    /api/v1/categories            # Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹
GET    /api/v1/categories/:id         # Ð”ÐµÑ‚Ð°Ð»Ð¸ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸
GET    /api/v1/categories/popular     # ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸
GET    /api/v1/categories/tree        # Ð”ÐµÑ€ÐµÐ²Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹
```

#### ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ

```http
POST   /api/v1/auth/login             # Ð’Ñ…Ð¾Ð´
POST   /api/v1/auth/register          # Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ
```

#### Ð”Ð¾ÑÑ‚Ð°Ð²ÐºÐ°

```http
GET    /api/v1/delivery/types         # Ð¢Ð¸Ð¿Ñ‹ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸
POST   /api/v1/delivery/calculate     # Ð Ð°ÑÑ‡ÐµÑ‚ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚Ð¸
```

#### Health Check

```http
GET    /up                            # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚Ð¸
```

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²

#### ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²

```bash
curl http://localhost:3000/api/v1/products
```

#### Ð’Ñ…Ð¾Ð´ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ

```bash
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "user",
    "password": "password"
  }'
```

#### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ð¾ÐºÐµÐ½Ð°

```bash
curl http://localhost:3000/api/v1/products \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ðŸš€ Ð”ÐµÐ¿Ð»Ð¾Ð¹

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð´Ð»Ñ Ð´ÐµÐ¿Ð»Ð¾Ñ Ñ‡ÐµÑ€ÐµÐ· [Kamal](https://kamal-deploy.org).

### Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

**ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ Ð´Ð»Ñ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð´ÐµÐ¿Ð»Ð¾Ñ:**

> âš ï¸ **Ð’Ð°Ð¶Ð½Ð¾:** Ð’ÑÐµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ Ð½Ð° **Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ** (Ð²Ð°Ñˆ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€), ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ ÑÐ°Ð¼Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÑŽÑ‚ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ Ñ‡ÐµÑ€ÐµÐ· SSH.

1. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°** (Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·)
   ```bash
   # ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ (Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°)
   sudo apt-get install sshpass  # Ð•ÑÐ»Ð¸ ÐµÑ‰Ðµ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
   chmod +x scripts/setup_server.sh
   ./scripts/setup_server.sh  # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑÐ°Ð¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
   ```

2. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° SSH ÐºÐ»ÑŽÑ‡ÐµÐ¹**
   ```bash
   # ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ
   # ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ deploy ÑÐ¾Ð·Ð´Ð°Ð½ Ð±ÐµÐ· Ð¿Ð°Ñ€Ð¾Ð»Ñ, Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÐºÐ»ÑŽÑ‡ Ñ‡ÐµÑ€ÐµÐ· root:
   cat ~/.ssh/id_ed25519.pub | ssh root@45.135.234.22 \
     "mkdir -p /home/deploy/.ssh && \
      cat >> /home/deploy/.ssh/authorized_keys && \
      chown -R deploy:deploy /home/deploy/.ssh && \
      chmod 700 /home/deploy/.ssh && \
      chmod 600 /home/deploy/.ssh/authorized_keys"
   # ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ root: f8RpYS53tYgLPwnk
   ```

3. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº GitHub**
   ```bash
   # ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ
   chmod +x scripts/setup_github_access.sh
   ./scripts/setup_github_access.sh
   # Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð² GitHub: https://github.com/settings/keys
   ```

4. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx**
   ```bash
   # ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ
   chmod +x scripts/setup_nginx.sh
   ./scripts/setup_nginx.sh  # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑÐ°Ð¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
   ```

5. **ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð²**
   ```bash
   mkdir -p .kamal
   
   # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹
   DB_PASSWORD=$(openssl rand -base64 32)
   POSTGRES_PASSWORD=$DB_PASSWORD
   JWT_SECRET=$(ruby -e "require 'securerandom'; puts SecureRandom.hex(64)")
   RAILS_MASTER_KEY=$(rails secret)
   
   # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð° (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ YOUR_DOCKER_HUB_TOKEN Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½)
   cat > .kamal/secrets << EOF
   RAILS_MASTER_KEY=$RAILS_MASTER_KEY
   DB_USERNAME=postgres
   DB_PASSWORD=$DB_PASSWORD
   REDIS_PASSWORD=
   JWT_SECRET=$JWT_SECRET
   POSTGRES_PASSWORD=$POSTGRES_PASSWORD
   KAMAL_REGISTRY_PASSWORD=YOUR_DOCKER_HUB_TOKEN
   EOF
   ```
   
   **Ð“Ð´Ðµ Ð²Ð·ÑÑ‚ÑŒ Docker Hub Ñ‚Ð¾ÐºÐµÐ½:**
   - ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ: https://hub.docker.com/settings/security
   - Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ "New Access Token"
   - Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ°Ðº `KAMAL_REGISTRY_PASSWORD`
   
   **ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ:** ÑÐ¼. [SECRETS_GUIDE.md](./SECRETS_GUIDE.md)

6. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Kamal**
   ```bash
   gem install kamal
   ```

7. **Ð”ÐµÐ¿Ð»Ð¾Ð¹**
   ```bash
   kamal deploy
   ```

8. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…**
   ```bash
   kamal app exec "rails db:create"
   kamal app exec "rails db:migrate"
   kamal app exec "rails db:seed"
   ```

### Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ð´ÐµÐ¿Ð»Ð¾ÑŽ

- **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)** - ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ñ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹
- **[DEPLOY_KAMAL.md](./DEPLOY_KAMAL.md)** - Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ Kamal
- **[NGINX_SETUP.md](./NGINX_SETUP.md)** - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx

## ðŸ—ï¸ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

### Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
ikea_api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/      # API ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ñ‹
â”‚   â”œâ”€â”€ models/           # ActiveRecord Ð¼Ð¾Ð´ÐµÐ»Ð¸
â”‚   â”œâ”€â”€ serializers/      # JSON ÑÐµÑ€Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ‚Ð¾Ñ€Ñ‹
â”‚   â””â”€â”€ services/         # Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ deploy.yml        # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Kamal
â”‚   â”œâ”€â”€ database.yml      # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð‘Ð”
â”‚   â””â”€â”€ routes.rb         # ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ API
â”œâ”€â”€ db/
â”‚   â””â”€â”€ migrate/          # ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
â”œâ”€â”€ scripts/              # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð´Ð»Ñ Ð´ÐµÐ¿Ð»Ð¾Ñ
â””â”€â”€ config/nginx/         # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Nginx
```

### ÐŸÐ¾Ñ‚Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…

```
MongoDB (Ð¿Ð°Ñ€ÑÐµÑ€) â†’ PostgreSQL (API) â†’ JSON API â†’ Frontend
```

ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ: [ARCHITECTURE.md](./ARCHITECTURE.md)

### Ð¡Ñ…ÐµÐ¼Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¼Ð¾Ð´ÐµÐ»ÑÑ… Ð¸ ÑÑ…ÐµÐ¼Ð°Ñ…: [DATA_SCHEMA.md](./DATA_SCHEMA.md)

## ðŸ’» Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°

### Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²

```bash
# Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹
rspec

# ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»
rspec spec/models/product_spec.rb
```

### Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹

```bash
rails generate migration CreateTableName
```

### Rails ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ

```bash
rails console
```

### ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

```bash
# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¾Ð²
rails routes

# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
tail -f log/development.log

# ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð»Ð¾Ð³Ð¾Ð²
rails log:clear
```

## ðŸ“– Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

### ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) - **ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ð´ÐµÐ¿Ð»Ð¾ÑŽ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ ÑÐµÑ€Ð²ÐµÑ€Ð°**
- [DEPLOYMENT_SUMMARY.md](./DEPLOYMENT_SUMMARY.md) - ÐšÑ€Ð°Ñ‚ÐºÐ°Ñ ÑÐ²Ð¾Ð´ÐºÐ° Ð¿Ð¾ Ð´ÐµÐ¿Ð»Ð¾ÑŽ
- [SECRETS_GUIDE.md](./SECRETS_GUIDE.md) - Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÐºÑ€ÐµÑ‚Ð°Ð¼Ð¸ Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑÐ¼Ð¸
- [DOMAIN_SETUP.md](./DOMAIN_SETUP.md) - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð´Ð¾Ð¼ÐµÐ½Ð° Ð´Ð»Ñ Kamal
- [NGINX_SETUP.md](./NGINX_SETUP.md) - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾, ÐµÑÐ»Ð¸ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ kamal-proxy)

### Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- [ARCHITECTURE.md](./ARCHITECTURE.md) - ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- [DATA_SCHEMA.md](./DATA_SCHEMA.md) - Ð¡Ñ…ÐµÐ¼Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… MongoDB Ð¸ PostgreSQL
- [ADMIN_PANEL_OPTIONS.md](./ADMIN_PANEL_OPTIONS.md) - Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð°Ð´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÐµÐ¹ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

## ðŸ¤ Ð’ÐºÐ»Ð°Ð´ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚

1. Fork Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ (`git commit -m 'Add some AmazingFeature'`)
4. Push Ð² branch (`git push origin feature/AmazingFeature`)
5. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Pull Request

## ðŸ“ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

Ð­Ñ‚Ð¾Ñ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð´ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸ÐµÐ¹ MIT. Ð¡Ð¼. Ñ„Ð°Ð¹Ð» `LICENSE` Ð´Ð»Ñ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚ÐµÐ¹.

## ðŸ‘¥ ÐÐ²Ñ‚Ð¾Ñ€Ñ‹

- **dmitryS1666** - [GitHub](https://github.com/dmitryS1666)

## ðŸ™ Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚Ð¸

- Rails ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð·Ð° Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº
- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾ Kamal Ð·Ð° Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð´ÐµÐ¿Ð»Ð¾Ñ
- Ð’ÑÐµÐ¼ ÐºÐ¾Ð½Ñ‚Ñ€Ð¸Ð±ÑŒÑŽÑ‚Ð¾Ñ€Ð°Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

---

**Ð¡Ð´ÐµÐ»Ð°Ð½Ð¾ Ñ â¤ï¸ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ IKEA**
